{
    "label": "CORE: Datastore",
    "name": "dive-datastore.js",
    "language": "JavaScript",
    "content": "import {DiveApplication} from '/resources/dive-application.js';\nimport {StateMutation} from '/resources/dive-state-mutation.js';\n\nexport let DiveDataStore = {\n    state: {\n        user: {\n            unique_id: 'fb6448b8-e8b1-4294-85d3-98ba4399ad32',\n        },\n        currentApplicationId: '',\n        records: {\n            'app': {\n                \"6ebc3491-2bf5-413d-96d2-4957e6f62e0e\": {\n                    \"label\": \"WebServer\",\n                    \"name\": \"core_webserver\",\n                    \"unique_id\": \"6ebc3491-2bf5-413d-96d2-4957e6f62e0e\",\n                    \"_api\": {},\n                    \"_metadata\": {\n                        \"created_on\": 1483228800,\n                        \"created_by\": \"admin\",\n                        \"updated_on\": 1483228800,\n                        \"updated_by\": \"admin\",\n                        \"collection_name\": \"core_app\"\n                    },\n                    _methods: {}\n                },\n                '6ebc3491-2bf5-413d-96d2-4957e6f62e0f': {\n                    name: 'plus_minus',\n                    label: 'Plus & Minus',\n                    \"unique_id\": \"6ebc3491-2bf5-413d-96d2-4957e6f62e0f\",\n                    \"_metadata\": {\n                        \"created_on\": 1483228800,\n                        \"created_by\": \"admin\",\n                        \"updated_on\": 1483228800,\n                        \"updated_by\": \"admin\",\n                        \"collection_name\": \"core_app\"\n                    },\n                    _methods: {}\n                },\n                '629b6e27-5982-4d1f-b7a4-72e1379be6a2': {\n                    \"unique_id\": \"629b6e27-5982-4d1f-b7a4-72e1379be6a2\",\n                    \"label\": \"App User Interface Designer\",\n                    \"name\": \"app_user_interface\",\n                    \"url_suffix\": \"/app_user_interface\",\n                    \"core_app_user_interface\": \"1ca7cbb2-a8c5-4871-b6fb-ba0a0fed4a46\",\n                    \"parent_collection\": \"95ff8230-b539-43f0-bd38-66a9a3702a59\",\n                    \"_metadata\": {\n                        \"collection_name\": \"core_app\",\n                        \"created_on\": 1483228800,\n                        \"created_by\": \"admin\",\n                        \"updated_on\": 1483228800,\n                        \"updated_by\": \"admin\",\n                        \"indexes\": {}\n                    },\n                    _methods: {}\n                },\n                _methods: {\n                    'create': function () {\n\n                    },\n                    'get': function () {\n\n                    },\n                    'find': function () {\n\n                    },\n                    'findOne': function () {\n\n                    }\n                }\n            },\n            'plus_minus_count': {}\n        }\n    }\n};\n\n/* Generate VueX mutations from records loaded to client */\nDiveDataStore.mutations = (() => {\n    let computedMutations = {\n        updateCurrentApp: function (state, params) {\n            Vue.set(state, 'currentApplicationId', params.value);\n        },\n    };\n    Object.entries(DiveDataStore.state.records).forEach(([collectionKey, collection]) => {\n        Object.entries(collection).forEach(([recordKey, record]) => {\n            if (record._methods)\n                Object.entries(record._methods).forEach(([methodKey, method]) => {\n                    let mutation = new StateMutation(record, method.methodName);\n                    computedMutations[mutation.unique_id] = mutation.generateMethod();\n                });\n\n            if (collectionKey == 'core_app')\n                Vue.component(record.unique_id, new DiveApplication(record, DiveDataStore).initializeApplication());\n        });\n    });\n    return computedMutations;\n})();\n\n",
    "unique_id": "7888cfab-fe64-44a8-b647-b486a57f30a1",
    "_metadata": {
        "collection_name": "resource",
        "active": true,
        "created_on": 1483228800,
        "created_by": "admin",
        "updated_on": 1483228800,
        "updated_by": "admin"
    }
}